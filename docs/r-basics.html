<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Just enough R</title>
  <meta name="description" content="‘Just enough’ R">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Just enough R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Just enough R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="rstudio.html">
<link rel="next" href="datasets-dataframes.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="https://hypothes.is/embed.js" async></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Just enough R</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="part"><span><b>I Getting started</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#a-warning"><i class="fa fa-check"></i>A warning</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="start-here.html"><a href="start-here.html"><i class="fa fa-check"></i><b>2</b> Workflow</a><ul>
<li class="chapter" data-level="" data-path="start-here.html"><a href="start-here.html#rmarkdown"><i class="fa fa-check"></i>Using RMarkdown to record and share work</a></li>
<li class="chapter" data-level="" data-path="start-here.html"><a href="start-here.html#writing-and-knitting-rmarkdown"><i class="fa fa-check"></i>Writing and ‘knitting’ RMarkdown</a></li>
<li class="chapter" data-level="" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i>RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R Basics</a><ul>
<li class="chapter" data-level="" data-path="r-basics.html"><a href="r-basics.html#first-commands"><i class="fa fa-check"></i>First commands</a></li>
<li><a href="r-basics.html#variables">Naming things: <em>variable assignment</em></a></li>
<li class="chapter" data-level="" data-path="r-basics.html"><a href="r-basics.html#vectors-and-lists"><i class="fa fa-check"></i>Vectors and lists</a></li>
<li class="chapter" data-level="" data-path="r-basics.html"><a href="r-basics.html#lists"><i class="fa fa-check"></i>Lists</a></li>
</ul></li>
<li class="part"><span><b>II Working with data</b></span></li>
<li class="chapter" data-level="4" data-path="datasets-dataframes.html"><a href="datasets-dataframes.html"><i class="fa fa-check"></i><b>4</b> Datasets and dataframes</a><ul>
<li class="chapter" data-level="" data-path="looking-at-data.html"><a href="looking-at-data.html"><i class="fa fa-check"></i>Looking at data</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i>Importing and exporting data</a><ul>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#importing-data-from-the-web"><i class="fa fa-check"></i>Importing data over the web</a></li>
<li class="chapter" data-level="" data-path="importing-data.html"><a href="importing-data.html#importing-proprietary-formats"><i class="fa fa-check"></i>Importing from SPSS and other packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html"><i class="fa fa-check"></i>Working with dataframes</a><ul>
<li><a href="working-with-dataframes.html#tidyverse">Introducing the <code>tidyverse</code></a></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#selecting-columns"><i class="fa fa-check"></i>Selecting columns from a dataframe</a></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#selecting-rows"><i class="fa fa-check"></i>Selecting rows of data</a></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#combining-column-selections-and-row-filters"><i class="fa fa-check"></i>Combining column selections and row filters</a></li>
<li><a href="working-with-dataframes.html#pipes"></a></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#mutate"><i class="fa fa-check"></i>Modifying and creating new columns</a></li>
<li class="chapter" data-level="" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#sorting"><i class="fa fa-check"></i>Sorting data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="real-data.html"><a href="real-data.html"><i class="fa fa-check"></i><b>5</b> Working with ‘real’ data</a><ul>
<li class="chapter" data-level="" data-path="storing-data.html"><a href="storing-data.html"><i class="fa fa-check"></i>Storing your data</a><ul>
<li class="chapter" data-level="" data-path="storing-data.html"><a href="storing-data.html#use-csv"><i class="fa fa-check"></i>CSV files are your friend</a></li>
<li class="chapter" data-level="" data-path="storing-data.html"><a href="storing-data.html#save-intermediate-steps"><i class="fa fa-check"></i>Save processes, not outcomes</a></li>
<li class="chapter" data-level="" data-path="storing-data.html"><a href="storing-data.html#rds-files"><i class="fa fa-check"></i>RDS files can be useful to preserve R objects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="factors-and-numerics.html"><a href="factors-and-numerics.html"><i class="fa fa-check"></i>Types of variable</a><ul>
<li class="chapter" data-level="" data-path="factors-and-numerics.html"><a href="factors-and-numerics.html#numeric-variables"><i class="fa fa-check"></i>Numeric variables</a></li>
<li class="chapter" data-level="" data-path="factors-and-numerics.html"><a href="factors-and-numerics.html#character-and-factor"><i class="fa fa-check"></i>Characters, factors (and booleans)</a></li>
<li class="chapter" data-level="" data-path="factors-and-numerics.html"><a href="factors-and-numerics.html#dates"><i class="fa fa-check"></i>Dates</a></li>
<li class="chapter" data-level="" data-path="factors-and-numerics.html"><a href="factors-and-numerics.html#missing-values"><i class="fa fa-check"></i>Missing values</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="missing.html"><a href="missing.html"><i class="fa fa-check"></i>Missing values</a></li>
<li class="chapter" data-level="" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i>Tidying data</a><ul>
<li class="chapter" data-level="" data-path="tidying-data.html"><a href="tidying-data.html#reshaping"><i class="fa fa-check"></i>Reshaping</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dealing-with-multiple-files.html"><a href="dealing-with-multiple-files.html"><i class="fa fa-check"></i>Dealing with multiple files</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summarising-data.html"><a href="summarising-data.html"><i class="fa fa-check"></i><b>6</b> Summarising data</a><ul>
<li class="chapter" data-level="" data-path="utility-functions-for-descriptive-statistics.html"><a href="utility-functions-for-descriptive-statistics.html"><i class="fa fa-check"></i>Utility functions for descriptive statistics</a><ul>
<li class="chapter" data-level="" data-path="utility-functions-for-descriptive-statistics.html"><a href="utility-functions-for-descriptive-statistics.html#frequency-tables"><i class="fa fa-check"></i>Frequency tables</a></li>
<li class="chapter" data-level="" data-path="utility-functions-for-descriptive-statistics.html"><a href="utility-functions-for-descriptive-statistics.html#summary-statistics"><i class="fa fa-check"></i>Summary statistics</a></li>
<li class="chapter" data-level="" data-path="utility-functions-for-descriptive-statistics.html"><a href="utility-functions-for-descriptive-statistics.html#creating-a-data-frame-of-summary-statistics"><i class="fa fa-check"></i>Creating a data frame of summary statistics</a></li>
<li class="chapter" data-level="6.0.1" data-path="utility-functions-for-descriptive-statistics.html"><a href="utility-functions-for-descriptive-statistics.html#computing-statistics-by-groups--v"><i class="fa fa-check"></i><b>6.0.1</b> Computing statistics by-groups {-}v</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="split-apply-combine.html"><a href="split-apply-combine.html"><i class="fa fa-check"></i>A generalised approach: Split, apply, combine</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>7</b> Graphics</a><ul>
<li class="chapter" data-level="" data-path="graphics-benefits.html"><a href="graphics-benefits.html"><i class="fa fa-check"></i>Benefits of visualising data</a></li>
<li class="chapter" data-level="" data-path="graphics-approaches.html"><a href="graphics-approaches.html"><i class="fa fa-check"></i>Which tool to use?</a></li>
<li><a href="layered-graphics.html#layered-graphics">Layered graphics with <code>ggplot</code></a><ul>
<li class="chapter" data-level="" data-path="layered-graphics.html"><a href="layered-graphics.html"><i class="fa fa-check"></i>A thought on ‘chart chooser’ guides</a></li>
<li><a href="layered-graphics.html#thinking-like-ggplot">Thinking like <code>ggplot</code></a></li>
<li class="chapter" data-level="" data-path="layered-graphics.html"><a href="layered-graphics.html#relationships"><i class="fa fa-check"></i>‘Relationships’</a></li>
<li class="chapter" data-level="" data-path="layered-graphics.html"><a href="layered-graphics.html#distributions"><i class="fa fa-check"></i>‘Distributions’</a></li>
<li class="chapter" data-level="" data-path="layered-graphics.html"><a href="layered-graphics.html#comparisons"><i class="fa fa-check"></i>‘Comparisons’</a></li>
<li class="chapter" data-level="" data-path="layered-graphics.html"><a href="layered-graphics.html#composition"><i class="fa fa-check"></i>‘Composition’</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="utility-plotting-functions.html"><a href="utility-plotting-functions.html"><i class="fa fa-check"></i>‘Quick and dirty’ (utility) plots</a><ul>
<li class="chapter" data-level="7.0.1" data-path="utility-plotting-functions.html"><a href="utility-plotting-functions.html#distributions-1"><i class="fa fa-check"></i><b>7.0.1</b> Distributions</a></li>
<li class="chapter" data-level="7.0.2" data-path="utility-plotting-functions.html"><a href="utility-plotting-functions.html#relationships-1"><i class="fa fa-check"></i><b>7.0.2</b> Relationships</a></li>
<li class="chapter" data-level="7.0.3" data-path="utility-plotting-functions.html"><a href="utility-plotting-functions.html#quantities"><i class="fa fa-check"></i><b>7.0.3</b> Quantities</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ggplot-details.html"><a href="ggplot-details.html"><i class="fa fa-check"></i>Tricks with ggplot</a><ul>
<li class="chapter" data-level="" data-path="ggplot-details.html"><a href="ggplot-details.html#facetting-plots"><i class="fa fa-check"></i>More ways to facet a plot</a></li>
<li><a href="ggplot-details.html#facet_wrap"><code>facet_wrap</code></a></li>
<li><a href="ggplot-details.html#facet_grid"><code>facet_grid</code></a></li>
<li class="chapter" data-level="" data-path="ggplot-details.html"><a href="ggplot-details.html#combining-plots"><i class="fa fa-check"></i>Combining separate plots in a grid</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exporting-graphics.html"><a href="exporting-graphics.html"><i class="fa fa-check"></i>Exporting for print</a></li>
</ul></li>
<li class="part"><span><b>III Analysis</b></span></li>
<li class="chapter" data-level="8" data-path="basic-inferential-statistics.html"><a href="basic-inferential-statistics.html"><i class="fa fa-check"></i><b>8</b> Basic inferential statistics</a><ul>
<li><a href="crosstabs.html#crosstabs">Crosstabulations and <sup>2</sup></a><ul>
<li class="chapter" data-level="" data-path="crosstabs.html"><a href="crosstabs.html"><i class="fa fa-check"></i>Three-way tables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="correlations.html"><a href="correlations.html"><i class="fa fa-check"></i>Correlations</a><ul>
<li class="chapter" data-level="" data-path="correlations.html"><a href="correlations.html#correlation-matrix"><i class="fa fa-check"></i>Creating a correlation matrix</a></li>
<li class="chapter" data-level="" data-path="correlations.html"><a href="correlations.html#working-with-correlation-matrices"><i class="fa fa-check"></i>Working with correlation matrices</a></li>
<li class="chapter" data-level="" data-path="correlations.html"><a href="correlations.html#correlation-tables-for-publication"><i class="fa fa-check"></i>Tables for publication</a></li>
<li class="chapter" data-level="" data-path="correlations.html"><a href="correlations.html#correlation-methods"><i class="fa fa-check"></i>Other methods for correlation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="t-tests.html"><a href="t-tests.html"><i class="fa fa-check"></i>t-tests</a><ul>
<li class="chapter" data-level="" data-path="t-tests.html"><a href="t-tests.html#visualising-your-data-first"><i class="fa fa-check"></i>Visualising your data first</a></li>
<li class="chapter" data-level="" data-path="t-tests.html"><a href="t-tests.html#running-a-t-test"><i class="fa fa-check"></i>Running a t-test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="linear-models-simple.html"><a href="linear-models-simple.html"><i class="fa fa-check"></i><b>9</b> Regression</a><ul>
<li class="chapter" data-level="" data-path="linear-models-simple.html"><a href="linear-models-simple.html#formulae"><i class="fa fa-check"></i>Describing statistical models using formulae</a></li>
<li class="chapter" data-level="" data-path="linear-models-simple.html"><a href="linear-models-simple.html#running-a-linear-model"><i class="fa fa-check"></i>Running a linear model</a></li>
<li class="chapter" data-level="" data-path="linear-models-simple.html"><a href="linear-models-simple.html#more-on-formulas"><i class="fa fa-check"></i>More on formulas</a></li>
<li class="chapter" data-level="" data-path="factors-and-variable-codings.html"><a href="factors-and-variable-codings.html"><i class="fa fa-check"></i>Factors and variable codings</a></li>
<li class="chapter" data-level="" data-path="parameterisation.html"><a href="parameterisation.html"><i class="fa fa-check"></i>Model specification</a><ul>
<li class="chapter" data-level="" data-path="parameterisation.html"><a href="parameterisation.html#regression-coding"><i class="fa fa-check"></i>Effect/dummy coding and contrasts</a></li>
<li class="chapter" data-level="" data-path="parameterisation.html"><a href="parameterisation.html#centering"><i class="fa fa-check"></i>Centering (is often helpful)</a></li>
<li class="chapter" data-level="" data-path="parameterisation.html"><a href="parameterisation.html#scaling-regression-inputs"><i class="fa fa-check"></i>Scaling inputs</a></li>
<li class="chapter" data-level="9.0.1" data-path="parameterisation.html"><a href="parameterisation.html#alternatives-to-rescaling"><i class="fa fa-check"></i><b>9.0.1</b> Alternatives to rescaling</a></li>
<li class="chapter" data-level="9.0.2" data-path="parameterisation.html"><a href="parameterisation.html#what-next"><i class="fa fa-check"></i><b>9.0.2</b> What next</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="anova.html"><a href="anova.html"><i class="fa fa-check"></i><b>10</b> Anova</a><ul>
<li class="chapter" data-level="" data-path="anova.html"><a href="anova.html#rules-for-using-anova-in-r"><i class="fa fa-check"></i>Rules for using Anova in R</a></li>
<li class="chapter" data-level="" data-path="anova.html"><a href="anova.html#anova-recommendations"><i class="fa fa-check"></i>Recommendations for doing Anova</a></li>
<li class="chapter" data-level="" data-path="anova-cookbook.html"><a href="anova-cookbook.html"><i class="fa fa-check"></i>Anova ‘Cookbook’</a><ul>
<li class="chapter" data-level="" data-path="anova-cookbook.html"><a href="anova-cookbook.html#between-subjects-anova"><i class="fa fa-check"></i>Between-subjects Anova</a></li>
<li class="chapter" data-level="" data-path="anova-cookbook.html"><a href="anova-cookbook.html#repeated-measures"><i class="fa fa-check"></i>Repeated measures or ‘split plot’ designs</a></li>
<li class="chapter" data-level="" data-path="anova-cookbook.html"><a href="anova-cookbook.html#trad-rm-anova"><i class="fa fa-check"></i>Traditional repeated measures Anova</a></li>
<li class="chapter" data-level="" data-path="anova-cookbook.html"><a href="anova-cookbook.html#comparison-with-a-multilevel-model"><i class="fa fa-check"></i>Comparison with a multilevel model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="checking-assumptions.html"><a href="checking-assumptions.html"><i class="fa fa-check"></i>Checking assumptions</a></li>
<li class="chapter" data-level="" data-path="followup-tests.html"><a href="followup-tests.html"><i class="fa fa-check"></i>Followup tests</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="understanding-interactions.html"><a href="understanding-interactions.html"><i class="fa fa-check"></i><b>11</b> Understanding interactions</a><ul>
<li class="chapter" data-level="" data-path="what-is-an-interaction.html"><a href="what-is-an-interaction.html"><i class="fa fa-check"></i>What is an interaction?</a></li>
<li class="chapter" data-level="" data-path="visualising-interactions-from-raw-data.html"><a href="visualising-interactions-from-raw-data.html"><i class="fa fa-check"></i>Visualising interactions from raw data</a><ul>
<li class="chapter" data-level="" data-path="visualising-interactions-from-raw-data.html"><a href="visualising-interactions-from-raw-data.html#pain-music-data"><i class="fa fa-check"></i>A painful example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="continuous-predictors.html"><a href="continuous-predictors.html"><i class="fa fa-check"></i>Continuous predictors</a></li>
<li class="chapter" data-level="" data-path="predictions-and-margins.html"><a href="predictions-and-margins.html"><i class="fa fa-check"></i>Making predictions</a><ul>
<li class="chapter" data-level="" data-path="predictions-and-margins.html"><a href="predictions-and-margins.html#predictions-vs-margins"><i class="fa fa-check"></i>Predictions vs margins</a></li>
<li class="chapter" data-level="" data-path="predictions-and-margins.html"><a href="predictions-and-margins.html#predicted-means"><i class="fa fa-check"></i>Predicted means</a></li>
<li><a href="predictions-and-margins.html#effects-margins"><em>Effects</em> (margins)</a></li>
<li class="chapter" data-level="" data-path="predictions-and-margins.html"><a href="predictions-and-margins.html#continuous-predictors-1"><i class="fa fa-check"></i>Continuous predictors</a></li>
</ul></li>
<li><a href="predicted-means-and-margins-using-lm.html#predicted-means-and-margins-using-lm">Predicted means and margins using <code>lm()</code></a><ul>
<li class="chapter" data-level="" data-path="predicted-means-and-margins-using-lm.html"><a href="predicted-means-and-margins-using-lm.html"><i class="fa fa-check"></i>Running the model</a></li>
<li class="chapter" data-level="" data-path="predicted-means-and-margins-using-lm.html"><a href="predicted-means-and-margins-using-lm.html#making-predictions-for-means"><i class="fa fa-check"></i>Making predictions for means</a></li>
<li><a href="predicted-means-and-margins-using-lm.html#making-prdictions-for-margins-effects-of-predictors">Making prdictions for margins (<em>effects</em> of predictors)</a></li>
<li class="chapter" data-level="" data-path="predicted-means-and-margins-using-lm.html"><a href="predicted-means-and-margins-using-lm.html#marginal-effects"><i class="fa fa-check"></i>Marginal effects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="predictions-with-continuous-covariates.html"><a href="predictions-with-continuous-covariates.html"><i class="fa fa-check"></i>Predictions with continuous covariates</a></li>
<li class="chapter" data-level="" data-path="visualising-interactions.html"><a href="visualising-interactions.html"><i class="fa fa-check"></i>Visualising interactions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="general-linear-models.html"><a href="general-linear-models.html"><i class="fa fa-check"></i><b>12</b> General linear models</a><ul>
<li class="chapter" data-level="" data-path="general-linear-models.html"><a href="general-linear-models.html#logistic-regression"><i class="fa fa-check"></i>Logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="mediation.html"><a href="mediation.html"><i class="fa fa-check"></i><b>13</b> Mediation</a></li>
<li class="chapter" data-level="14" data-path="multilevel-models.html"><a href="multilevel-models.html"><i class="fa fa-check"></i><b>14</b> Multilevel models</a><ul>
<li class="chapter" data-level="" data-path="fitting-models.html"><a href="fitting-models.html"><i class="fa fa-check"></i>Fitting multilevel models in R</a><ul>
<li><a href="fitting-models.html#use-lmer-and-glmer">Use <code>lmer</code> and <code>glmer</code></a></li>
<li><a href="fitting-models.html#p-values-in-multilevel-models"><em>p</em> values in multilevel models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="extending-traditional-rm-anova.html"><a href="extending-traditional-rm-anova.html"><i class="fa fa-check"></i>Extending traditional RM Anova</a><ul>
<li><a href="extending-traditional-rm-anova.html#fit-a-simple-slope-for-days">Fit a simple slope for <code>Days</code></a></li>
<li class="chapter" data-level="" data-path="extending-traditional-rm-anova.html"><a href="extending-traditional-rm-anova.html#allow-the-effect-of-sleep-deprivation-to-vary-for-different-participants"><i class="fa fa-check"></i>Allow the effect of sleep deprivation to vary for different participants</a></li>
<li><a href="extending-traditional-rm-anova.html#growth-curve-sleep-example">Fitting a curve for the effect of <code>Days</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="icc-and-vpc.html"><a href="icc-and-vpc.html"><i class="fa fa-check"></i>Variance partition coefficients and intraclass correlations</a></li>
<li class="chapter" data-level="" data-path="threelevel.html"><a href="threelevel.html"><i class="fa fa-check"></i>3 level models with ‘partially crossed’ random effects</a></li>
<li class="chapter" data-level="" data-path="troubleshooting-multilevel-models.html"><a href="troubleshooting-multilevel-models.html"><i class="fa fa-check"></i>Troubleshooting</a><ul>
<li class="chapter" data-level="" data-path="troubleshooting-multilevel-models.html"><a href="troubleshooting-multilevel-models.html#simplifying-mixed-models"><i class="fa fa-check"></i>Convergence problems and simplifying the random effects structure</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multilevel-bayes-reasons.html"><a href="multilevel-bayes-reasons.html"><i class="fa fa-check"></i>Bayesian multilevel models</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="covariance-modelling.html"><a href="covariance-modelling.html"><i class="fa fa-check"></i><b>15</b> Covariance modelling</a><ul>
<li class="chapter" data-level="" data-path="path-models.html"><a href="path-models.html"><i class="fa fa-check"></i>Path models</a><ul>
<li class="chapter" data-level="" data-path="path-models.html"><a href="path-models.html#defining-the-model"><i class="fa fa-check"></i>Defining the model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cfa.html"><a href="cfa.html"><i class="fa fa-check"></i>Confirmatory factor analysis (CFA)</a><ul>
<li class="chapter" data-level="" data-path="cfa.html"><a href="cfa.html#defining-the-model-1"><i class="fa fa-check"></i>Defining the model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model-fit.html"><a href="model-fit.html"><i class="fa fa-check"></i>Model fit</a></li>
<li class="chapter" data-level="" data-path="modification-indices.html"><a href="modification-indices.html"><i class="fa fa-check"></i>Modification indices</a></li>
<li class="chapter" data-level="" data-path="model-improvement.html"><a href="model-improvement.html"><i class="fa fa-check"></i>Model modification and improvement</a></li>
<li class="chapter" data-level="" data-path="sem.html"><a href="sem.html"><i class="fa fa-check"></i>Structural eqution modelling (SEM)</a></li>
<li class="chapter" data-level="" data-path="identification.html"><a href="identification.html"><i class="fa fa-check"></i>‘Identification’ in CFA and SEM</a></li>
<li class="chapter" data-level="" data-path="cfa-sem-missing-data.html"><a href="cfa-sem-missing-data.html"><i class="fa fa-check"></i>Missing data</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="power-analysis.html"><a href="power-analysis.html"><i class="fa fa-check"></i><b>16</b> Power analysis in R</a><ul>
<li class="chapter" data-level="" data-path="power-analysis.html"><a href="power-analysis.html#for-most-inferential-statistics"><i class="fa fa-check"></i>For most inferential statistics</a></li>
<li class="chapter" data-level="" data-path="power-analysis.html"><a href="power-analysis.html#for-multilevel-or-generalised-linear-models"><i class="fa fa-check"></i>For multilevel or generalised linear models</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="bayes-mcmc.html"><a href="bayes-mcmc.html"><i class="fa fa-check"></i><b>17</b> Baysian linear model fitting with MCMC</a><ul>
<li class="chapter" data-level="" data-path="bayes-mcmc.html"><a href="bayes-mcmc.html#posterior-probabilities-for-parameters"><i class="fa fa-check"></i>Posterior probabilities for parameters</a></li>
<li class="chapter" data-level="" data-path="bayes-mcmc.html"><a href="bayes-mcmc.html#credible-intervals"><i class="fa fa-check"></i>Credible intervals</a></li>
<li class="chapter" data-level="" data-path="bayes-mcmc.html"><a href="bayes-mcmc.html#bayesian-p-values-for-parameters"><i class="fa fa-check"></i>Bayesian ‘p values’ for parameters</a></li>
</ul></li>
<li class="part"><span><b>IV Loose ends</b></span></li>
<li class="chapter" data-level="18" data-path="statistical-explanations.html"><a href="statistical-explanations.html"><i class="fa fa-check"></i><b>18</b> Statistical explanations</a><ul>
<li class="chapter" data-level="" data-path="intervals.html"><a href="intervals.html"><i class="fa fa-check"></i>Confidence, credible and prediction intervals</a><ul>
<li class="chapter" data-level="" data-path="intervals.html"><a href="intervals.html#the-problem-with-confidence-intervals"><i class="fa fa-check"></i>The problem with confidence intervals</a></li>
<li class="chapter" data-level="" data-path="intervals.html"><a href="intervals.html#forgetting-that-the-ci-depends-on-sample-size."><i class="fa fa-check"></i>Forgetting that the CI depends on sample size.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multiple-comparisons.html"><a href="multiple-comparisons.html"><i class="fa fa-check"></i>Multiple comparisons</a><ul>
<li class="chapter" data-level="18.0.1" data-path="multiple-comparisons.html"><a href="multiple-comparisons.html#p-values-and-false-discoveries"><i class="fa fa-check"></i><b>18.0.1</b> <em>p</em> values and ‘false discoveries’</a></li>
<li class="chapter" data-level="" data-path="multiple-comparisons.html"><a href="multiple-comparisons.html#multiple-tests-on-the-same-data"><i class="fa fa-check"></i>Multiple tests on the same data</a></li>
<li class="chapter" data-level="" data-path="multiple-comparisons.html"><a href="multiple-comparisons.html#what-to-do-about-it"><i class="fa fa-check"></i>What to do about it?</a></li>
<li class="chapter" data-level="" data-path="multiple-comparisons.html"><a href="multiple-comparisons.html#practical-examples"><i class="fa fa-check"></i>Practical examples</a></li>
<li><a href="multiple-comparisons.html#contrasts-lmer">Followup tests using <code>lmer</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i>Clustered data</a></li>
<li class="chapter" data-level="" data-path="fixed-or-random.html"><a href="fixed-or-random.html"><i class="fa fa-check"></i>Fixed vs Random effects</a></li>
<li class="chapter" data-level="" data-path="link-functions.html"><a href="link-functions.html"><i class="fa fa-check"></i>Link functions and transformation</a><ul>
<li class="chapter" data-level="" data-path="link-functions.html"><a href="link-functions.html#logistic-link-function"><i class="fa fa-check"></i>Logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="comparison-and-selection.html"><a href="comparison-and-selection.html"><i class="fa fa-check"></i>Model comparison and selection</a><ul>
<li class="chapter" data-level="" data-path="comparison-and-selection.html"><a href="comparison-and-selection.html#models-are-imperfect"><i class="fa fa-check"></i>Models are imperfect</a></li>
<li class="chapter" data-level="" data-path="comparison-and-selection.html"><a href="comparison-and-selection.html#over-fitting"><i class="fa fa-check"></i>Overfitting/underfitting</a></li>
<li class="chapter" data-level="" data-path="comparison-and-selection.html"><a href="comparison-and-selection.html#variable-selection"><i class="fa fa-check"></i>Choosing the ‘right variables’</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gof.html"><a href="gof.html"><i class="fa fa-check"></i>Goodness of fit statistics</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="r-details.html"><a href="r-details.html"><i class="fa fa-check"></i><b>19</b> R details</a><ul>
<li class="chapter" data-level="" data-path="r-details.html"><a href="r-details.html#installation-intro"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i>Loading packages</a></li>
<li class="chapter" data-level="" data-path="named-colours.html"><a href="named-colours.html"><i class="fa fa-check"></i>Named colours in R</a><ul>
<li class="chapter" data-level="" data-path="named-colours.html"><a href="named-colours.html#color-brewer"><i class="fa fa-check"></i>ColourBrewer with ggplot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html"><i class="fa fa-check"></i>Getting help</a><ul>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#backtick-location"><i class="fa fa-check"></i>Finding the backtick on your keyboard</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="code-reuse.html"><a href="code-reuse.html"><i class="fa fa-check"></i>Re-using code</a><ul>
<li class="chapter" data-level="" data-path="code-reuse.html"><a href="code-reuse.html#helper-functions"><i class="fa fa-check"></i>Writing helper functions</a></li>
<li><a href="code-reuse.html#ggplot-reuse">Re-using code with <code>ggplot</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Sharing</b></span></li>
<li class="chapter" data-level="20" data-path="sharing-and-publication.html"><a href="sharing-and-publication.html"><i class="fa fa-check"></i><b>20</b> Sharing and publishing your work</a><ul>
<li class="chapter" data-level="" data-path="extract-results-from-models.html"><a href="extract-results-from-models.html"><i class="fa fa-check"></i>Extracting results from models</a></li>
<li class="chapter" data-level="" data-path="process-model-results.html"><a href="process-model-results.html"><i class="fa fa-check"></i>Process your results</a></li>
<li class="chapter" data-level="" data-path="output-tables.html"><a href="output-tables.html"><i class="fa fa-check"></i>Printing tables</a></li>
<li class="chapter" data-level="" data-path="apa-output.html"><a href="apa-output.html"><i class="fa fa-check"></i>APA formatting for free</a><ul>
<li><a href="apa-output.html#chi2">Chi<sup>2</sup></a></li>
<li class="chapter" data-level="" data-path="apa-output.html"><a href="apa-output.html#t-test"><i class="fa fa-check"></i>T-test</a></li>
<li class="chapter" data-level="" data-path="apa-output.html"><a href="apa-output.html#anova-1"><i class="fa fa-check"></i>Anova</a></li>
<li class="chapter" data-level="" data-path="multilevel-models.html"><a href="multilevel-models.html#multilevel-models"><i class="fa fa-check"></i>Multilevel models</a></li>
<li class="chapter" data-level="20.0.1" data-path="apa-output.html"><a href="apa-output.html#publication"><i class="fa fa-check"></i><b>20.0.1</b> Publication</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>21</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">‘Just enough’ R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basics" class="section level1">
<h1><span class="header-section-number">3</span> R Basics</h1>
<div id="first-commands" class="section level3 unnumbered">
<h3>First commands</h3>
<p>You can type R commands directly into the console and see the result there, but you should make a habit of working in an RMarkdown file. This keeps a record of everything you try, and makes it easy to edit/amend commands which don’t work as you expect.</p>
<p>Now would be a good time to open an RMarkdown document to see how it works. A good place to start would be to open the source to this document. The best way to do this is to download the source code for the ‘Just Enough R’ project, and then open the file <code>start_here.Rmd</code>.</p>
<div id="section-1" class="section level4 unnumbered exercise">
<h4></h4>
<p>The source for this RMarkdown file is available here: <a href="https://raw.githubusercontent.com/benwhalley/just-enough-r/master/start_here.Rmd" class="uri">https://raw.githubusercontent.com/benwhalley/just-enough-r/master/start_here.Rmd</a>.</p>
<p>Or you can download the whole project here: <a href="https://github.com/benwhalley/just-enough-r/archive/master.zip" class="uri">https://github.com/benwhalley/just-enough-r/archive/master.zip</a>. This link downloads a ‘zip’ file, which is a compressed folder containing all the files in the project. To ‘unzip’ it on Mac or Windows just double-click the file in the Finder or Windows Explorer.</p>
</div>
<div id="section-2" class="section level4 unnumbered">
<h4></h4>
<p>To run code in the RStudio interface put your cursor on a line within an R Block (or select the code you want to run), and press <code>Ctrl-Enter</code>. The result will appear below the code block.</p>
<p>The command in the R block below prints (shows on screen) the first few rows of the <code>mtcars</code> dataset, which is built in to R as an example.</p>
<p>Place your cursor somewhere in the line the command is on and run it by typing <code>Ctrl-Enter</code>, shown in this brief video:</p>
<iframe src="https://player.vimeo.com/video/225968925" width="640" height="480" frameborder="0">
</iframe>
<p>
<a href="https://vimeo.com/225968925">Create and R block in RMarkdown, then run some simple commands.</a> from <a href="https://vimeo.com/user67812521">Ben Whalley</a> on <a href="https://vimeo.com">Vimeo</a>.
</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mtcars)
##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre></div>
<p>If you are reading this from within RStudio, running <code>head(mtcars)</code> will have included an interactive table in the document, which you can use this to view the <code>mtcars</code> dataset. If you are still reading the compiled html or pdf document you will see a table containing the same data, included within the body of the document.</p>
<p>Hopefully at this point it’s obvious that RStudio and RMarkdown give you:</p>
<ul>
<li>A nice place to work with R and explore your data</li>
<li>A nice format to share your workings (e.g. with other researchers or your tutor)</li>
<li>A mechanism to save reports of your analysis, to share with other people who don’t use RStudio</li>
</ul>
</div>
</div>
<div id="variables" class="section level3 unnumbered">
<h3>Naming things: <em>variable assignment</em></h3>
<p>One of the nice things about R is that we can assign labels to parts of our analysis to keep track of them. Using good, descriptive names is good practice and makes your code easier to read (e.g. when you or others need to revisit in future.</p>
<p>To assign labels to particular values we use the <code>&lt;-</code> symbol. That is, we have a <em>value</em> and use the <code>&lt;-</code> symbol to point to the <em>variable</em> we want to assign it to. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">the.magic.number &lt;-<span class="st"> </span><span class="dv">3</span></code></pre></div>
<p>This assigns the value <code>3</code> to the variable <code>the.magic.number</code>. This block wouldn’t display anything because assigning a variable doesn’t create any output. To both assign a variable <em>and</em> display it we would type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">the.magic.number &lt;-<span class="st"> </span><span class="dv">3</span>
the.magic.number
## [1] 3</code></pre></div>
<p>Or if we want to be explicit:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(the.magic.number)
## [1] 3</code></pre></div>
<p>Helpfully, we can also do simple calculations as we assign variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">one.score &lt;-<span class="st"> </span><span class="dv">20</span>
four.score.years.and.ten &lt;-<span class="st"> </span>one.score <span class="op">*</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">10</span>
<span class="kw">print</span>(four.score.years.and.ten)
## [1] 90</code></pre></div>
<p>As you will see below, we can give anything a label by assigning it to a variable. It doesn’t have to be simple numbers: we can also assign words, graphics and plots, the results of a statistical model, or <em>lists</em> of any of these things.</p>
</div>
<div id="vectors-and-lists" class="section level3 unnumbered">
<h3>Vectors and lists</h3>
<p>When working with data, we often have lists of ‘things’: for example a list of measurements we have made.</p>
<ul>
<li><p>When all the things are of the <em>same</em> ‘type’, then in R this is called a <em>vector</em> (or a matrix if has 2 dimensions, like a table<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>).</p></li>
<li><p>When the list contains a mix of <em>different</em> things, then R calls it a <em>list</em>.</p></li>
</ul>
<div id="vector" class="section level4 unnumbered">
<h4>Vectors</h4>
<p>We can create a vector of numbers and display it like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this creates a vector of heights, in cm</span>
heights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">203</span>, <span class="dv">148</span>, <span class="dv">156</span>, <span class="dv">158</span>, <span class="dv">167</span>, 
             <span class="dv">162</span>, <span class="dv">172</span>, <span class="dv">164</span>, <span class="dv">172</span>, <span class="dv">187</span>, 
             <span class="dv">134</span>, <span class="dv">182</span>, <span class="dv">175</span>)</code></pre></div>
<p>The <code>c()</code> command is shorthand for <em>combine</em>, so the example above combines the individual elements (numbers) into a new vector.</p>
<p>We can create a vector of alphanumeric names just eas easily:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ben&quot;</span>, <span class="st">&quot;Joe&quot;</span>, <span class="st">&quot;Sue&quot;</span>, <span class="st">&quot;Rosa&quot;</span>)</code></pre></div>
<p>And we can check the values stored in these variables by printing them, e.g.:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">heights 
##  [1] 203 148 156 158 167 162 172 164 172 187 134 182 175</code></pre></div>
</div>
<div id="section-3" class="section level4 unnumbered exercise">
<h4></h4>
<p>Try creating your own vector of numbers in a new code block below<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> using the <code>c(...)</code> command. Then change the name of the variable you assign it to.</p>
</div>
<div id="access-vector-elements" class="section level4 unnumbered">
<h4>Accessing elements within vectors</h4>
<p>Once we have created a vector, we often want to access the individual elements again. We do this based on their <em>position</em>.</p>
<p>Let’s say we have created a vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)</code></pre></div>
<p>We can display the whole vector by just typing its name, as we saw above. But if we want to show only the <em>first</em> element of this vector, we type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.vector[<span class="dv">1</span>]
## [1] 10</code></pre></div>
<p>Here, the square brackets specify a <em>subset</em> of the vector we want - in this case, just the first element.</p>
</div>
<div id="selecting-more-than-one-element-in-a-vector" class="section level4 unnumbered">
<h4>Selecting more than one element in a vector</h4>
<p>A neat feature of subsetting is that we can grab more than one element at a time.</p>
<p>To do this, we need to tell R the <em>positions</em> of the elements we want, and so we provide a <em>vector of the positions of the elements we want</em>.</p>
<p>It might seem obvious, but the first element has position 1, the second has position 2, and so on. So, if we wanted to extract the 4th and 5th elements from the vector of heights we saw above we would type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">elements.to.grab &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">5</span>)
heights[elements.to.grab]
## [1] 158 167</code></pre></div>
<p>We can also make a subset of the original vector and assign it to a <em>new</em> variable:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">first.two.elements &lt;-<span class="st"> </span>heights[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]
first.two.elements
## [1] 203 148</code></pre></div>
<!-- There are lots of other neat tricks you can use when subsetting, but we don't need them all right now.  -->
<!-- If you want to know more see <http://www.statmethods.net/management/subset.html> -->
</div>
<div id="processing-vectors" class="section level4 unnumbered">
<h4>Processing vectors</h4>
<p>Many of R’s most useful functions process <em>vectors of numbers</em> in some way. For example, if we want to calculate the average of our vector of heights we just type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(heights)
## [1] 167.6923</code></pre></div>
<p>R contains <em>lots</em> of built in functions which we can use to summarise a vector of numbers. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">median</span>(heights)
## [1] 167
<span class="kw">sd</span>(heights)
## [1] 17.59443
<span class="kw">min</span>(heights)
## [1] 134
<span class="kw">max</span>(heights)
## [1] 203
<span class="kw">range</span>(heights)
## [1] 134 203
<span class="kw">IQR</span>(heights)
## [1] 17
<span class="kw">length</span>(heights)
## [1] 13</code></pre></div>
<p>All of these functions accept a vector as input, do some proccesing, and then return a <em>single number</em> which gets displayed by RStudio.</p>
<p>But not all functions return a single number in the way that <code>mean</code> did above. Some return a new vector, or some other type of object instead. For example, the <code>quantile</code> function returns the values at the 0, 25th, 50th, 75th and 100th percentiles (by default).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">height.quantiles &lt;-<span class="st"> </span><span class="kw">quantile</span>(heights)
height.quantiles
##   0%  25%  50%  75% 100% 
##  134  158  167  175  203</code></pre></div>
<p>If a function returns a vector, we can use it just like any other vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">height.quantiles &lt;-<span class="st"> </span><span class="kw">quantile</span>(heights)

<span class="co"># grab the third element, which is the median</span>
height.quantiles[<span class="dv">3</span>]
## 50% 
## 167

<span class="co"># assign the first element to a variable</span>
min.height &lt;-<span class="st"> </span>height.quantiles[<span class="dv">1</span>]
min.height
##  0% 
## 134</code></pre></div>
<p>But other functions process a vector without returning any numbers. For example, the <code>hist</code> function returns a histogram:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(heights)</code></pre></div>
<p><img src="start_here_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>We’ll cover lots more plotting and visualisation later on.</p>
</div>
<div id="processing-vectors-to-make-new-vectors" class="section level4 unnumbered">
<h4>Processing vectors to make new vectors</h4>
<p>So far we’ve seen R functions which process a vector of numbers and produce a single number, a new vector of a different length (like <code>quantile</code> or <code>fivenum</code>), or some other object (like <code>hist</code> which makes a plot). However many other functions accept a single input, do something to it, and return a single processed value.</p>
<p>For example, the square root function, <code>sqrt</code>, accepts a single value and returns a single value: running <code>sqrt(10)</code> will return <code>3.1623</code>.</p>
<p>In R, if a function accepts a single value as input and returns a single value as output (like <code>sqrt(10)</code>), then you can usually give a vector as input too. Some people find this surprising<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>, but R assumes that if you’re processing a vector of numbers, you want the function applied to each of them in the same way.</p>
<p>This turns out to be very useful. For example, let’s say we want the square root of each of the elements of our height data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># these are the raw values</span>
heights
##  [1] 203 148 156 158 167 162 172 164 172 187 134 182 175

<span class="co"># takes the sqrt of each value and returns a vector of all the square roots</span>
<span class="kw">sqrt</span>(heights)
##  [1] 14.24781 12.16553 12.49000 12.56981 12.92285 12.72792 13.11488
##  [8] 12.80625 13.11488 13.67479 11.57584 13.49074 13.22876</code></pre></div>
<p>This also works with simple arithmetic So, if we wanted to convert all the heights from cm to meters we could just type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">heights <span class="op">/</span><span class="st"> </span><span class="dv">100</span>
##  [1] 2.03 1.48 1.56 1.58 1.67 1.62 1.72 1.64 1.72 1.87 1.34 1.82 1.75</code></pre></div>
</div>
<div id="paste" class="section level4 unnumbered">
<h4></h4>
<p>This trick also works with other functions like <code>paste</code>, which combines the inputs you send it to produce an alphanumeric string:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;Once&quot;</span>, <span class="st">&quot;upon&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;time&quot;</span>)
## [1] &quot;Once upon a time&quot;</code></pre></div>
<p>If we send a vector to <code>paste</code> it assumes we want a vector of results, with each element in the vector pasted next to each other:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bottles &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">99</span>, <span class="dv">98</span>, <span class="st">&quot;...&quot;</span>)
<span class="kw">paste</span>(bottles, <span class="st">&quot;green bottles hanging on the wall&quot;</span>)
## [1] &quot;100 green bottles hanging on the wall&quot;
## [2] &quot;99 green bottles hanging on the wall&quot; 
## [3] &quot;98 green bottles hanging on the wall&quot; 
## [4] &quot;... green bottles hanging on the wall&quot;</code></pre></div>
<p>In other programming languages we might have had to write a ‘loop’ to create each line of the song, but R lets us write short statements to summarise <em>what</em> needs to be done; we don’t need to worry worrying about <em>how</em> it gets done.</p>
</div>
<div id="paste0" class="section level4 unnumbered tip">
<h4></h4>
<p>The <code>paste0</code> function does much the same, but leaves no spaces in the combined strings, which can be useful:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste0</span>(<span class="st">&quot;N=&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)
##  [1] &quot;N=1&quot;  &quot;N=2&quot;  &quot;N=3&quot;  &quot;N=4&quot;  &quot;N=5&quot;  &quot;N=6&quot;  &quot;N=7&quot;  &quot;N=8&quot;  &quot;N=9&quot;  &quot;N=10&quot;</code></pre></div>
</div>
<div id="making-up-data-new-vectors" class="section level4 unnumbered">
<h4>Making up data (new vectors)</h4>
<p>Sometimes you’ll need to create vectors containing regular sequences or randomly selected numbers.</p>
<p>To create regular sequences a convenient shortcut is the ‘colon’ operator. For example, if we type <code>1:10</code> then we get a vector of numbers from 1 to 10:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre></div>
<p>The <code>seq</code> function allows you to create more specific sequences:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># make a sequence, specifying the interval between them</span>
<span class="kw">seq</span>(<span class="dt">from=</span><span class="fl">0.1</span>, <span class="dt">to=</span><span class="dv">2</span>, <span class="dt">by=</span>.<span class="dv">1</span>)
##  [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0 1.1 1.2 1.3 1.4 1.5 1.6 1.7
## [18] 1.8 1.9 2.0</code></pre></div>
<p>We can also use random number-generating functions built into R to create vectors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 10 uniformly distributed random numbers between 0 and 1</span>
<span class="kw">runif</span>(<span class="dv">10</span>)
##  [1] 0.24286994 0.17523228 0.05899854 0.36021067 0.23732466 0.49818123
##  [7] 0.15009582 0.87234990 0.06308135 0.16701757

<span class="co"># 1,000 uniformly distributed random numbers between 1 and 100</span>
my.numbers &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">10</span>)

<span class="co"># 10 random-normal numbers with mean 10 and SD=1</span>
<span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean=</span><span class="dv">10</span>)
##  [1]  9.123508  9.803758  8.528340  8.667840 11.115023  9.529525  8.384174
##  [8] 10.208620  9.170439 11.156358

<span class="co"># 10 random-normal numbers with mean 10 and SD=5</span>
<span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">5</span>)
##  [1] 10.449631  8.899558  8.970688 24.198560  7.328819 15.203273 12.129459
##  [8]  9.480256  6.589127 11.159354</code></pre></div>
<p>We can then use these numbers in our code, for example plotting them:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">random.numbers &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10000</span>)
<span class="kw">hist</span>(random.numbers)</code></pre></div>
<p><img src="start_here_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="useful-functions-to-learn-now" class="section level4 unnumbered">
<h4>Useful functions to learn now</h4>
<p>There are <em>thousands</em> of functions built into R. Below are a few examples which are likely to be useful as you work with your data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># repeat something N times</span>
<span class="kw">rep</span>(<span class="st">&quot;Apple pie&quot;</span>, <span class="dv">10</span>)
##  [1] &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot;
##  [6] &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot; &quot;Apple pie&quot;</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># repeat a short vector, combining into a single longer vector</span>
<span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;Custard&quot;</span>, <span class="st">&quot;Gravy&quot;</span>), <span class="dv">5</span>)
##  [1] &quot;Custard&quot; &quot;Gravy&quot;   &quot;Custard&quot; &quot;Gravy&quot;   &quot;Custard&quot; &quot;Gravy&quot;   &quot;Custard&quot;
##  [8] &quot;Gravy&quot;   &quot;Custard&quot; &quot;Gravy&quot;</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># make a sequence and then sort it</span>
countdown &lt;-<span class="st"> </span><span class="dv">100</span><span class="op">:</span><span class="dv">1</span>
<span class="kw">sort</span>(countdown)
##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
##  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
##  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
##  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
##  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
##  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate some random data (here, ages in years)</span>
ages &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dt">mean=</span><span class="dv">40</span>, <span class="dt">sd=</span><span class="dv">10</span>))

<span class="co"># get the rank order of elements (i.e. what their positions would be if the vector was sorted)</span>
ages
##  [1] 50 57 45 38 39 42 52 40 38 40
<span class="kw">rank</span>(ages, <span class="dt">ties.method=</span><span class="st">&quot;first&quot;</span>)
##  [1]  8 10  7  1  3  6  9  4  2  5</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># you could even label the vector of ages if you wanted</span>
labels &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Position:&quot;</span>, <span class="kw">rank</span>(ages, <span class="dt">ties.method=</span><span class="st">&quot;first&quot;</span>))
<span class="kw">names</span>(ages) &lt;-<span class="st"> </span>labels
ages
##  Position: 8 Position: 10  Position: 7  Position: 1  Position: 3 
##           50           57           45           38           39 
##  Position: 6  Position: 9  Position: 4  Position: 2  Position: 5 
##           42           52           40           38           40</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># return the unique values in a vector</span>
<span class="kw">unique</span>( <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">100</span>) )
##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre></div>
<p>Try and experiment with each of these functions. Check the output against what you expected to happen, and make sure you understand what they do.</p>
</div>
</div>
<div id="lists" class="section level3 unnumbered">
<h3>Lists</h3>
<p>Try running the code below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">confusing.vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&quot;Wibble&quot;</span>)
first.element &lt;-<span class="st"> </span>confusing.vector[<span class="dv">1</span>]
<span class="kw">sqrt</span>(first.element)
## Error in sqrt(first.element): non-numeric argument to mathematical function</code></pre></div>
<p>Take a minute to try and make a guess at what went wrong. Why does R complain that ‘<code>1</code>’ is non-numeric?</p>
<p>When we built the vector we used <code>c</code> to combine the elements <code>1</code>, <code>2</code>, <code>3</code> and <code>&quot;Wibble&quot;</code>. Although our first and second elements are numbers, <code>&quot;Wibble&quot;</code> is not - it’s made up of letters (this is called a character string). Remember that vectors can only contain one <em>type</em> of thing. And so R automatically converts all the elements to the same type, if it can.</p>
<p>Because R can’t reliably convert <code>&quot;Wibble&quot;</code> to a number, everything in the vector was converted to the <code>character</code> type instead. We get an error because R can’t mutiply words together.</p>
<p>If you’re not sure what type of thing your vector contains, you can use the <code>typeof</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)
## [1] &quot;integer&quot;
<span class="kw">typeof</span>(<span class="kw">runif</span>(<span class="dv">10</span>))
## [1] &quot;double&quot;
<span class="kw">typeof</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot;Wibble&quot;</span>))
## [1] &quot;character&quot;</code></pre></div>
<p>Here the meaning of <em>integer</em> should be self explanatory. The vector <code>runif(10)</code> has type <em>double</em>, because it contains ‘double-precision’ floating point numbers. For our purposes you can just think of <code>double</code> as meaning any number with decimal places.</p>
<p>The last vector has the type <code>character</code> because it includes the character string <code>Wibble</code>, and all the other numbers in it were coerced to become character strings too.</p>
<p>If we want to (safely) mix up different types of object without them being converted we need a proper <code>list</code>, rather than a vector. In R we would write:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="st">&quot;Wibble&quot;</span>)</code></pre></div>
<p>We can still access elements from lists as we do for vectors, although now we need to use double square brackets, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.list[[<span class="dv">1</span>]]
## [1] 2</code></pre></div>
<p>But now our numbers haven’t been converted to character strings, and we can still multiply them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.list[[<span class="dv">1</span>]] <span class="op">*</span><span class="st"> </span>my.list[[<span class="dv">2</span>]]
## [1] 4</code></pre></div>
<p>Square brackets are ugly and can be confusing though, so we often give names to the elements of our list when we create it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.party &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">number.guests=</span><span class="dv">8</span>, 
                 <span class="dt">when=</span><span class="st">&quot;Friday&quot;</span>, 
                 <span class="dt">drinks =</span> <span class="kw">c</span>(<span class="st">&quot;Juice&quot;</span>, <span class="st">&quot;Beer&quot;</span>, <span class="st">&quot;Whisky&quot;</span>))</code></pre></div>
<p>Which means we can then access the elements <em>by name</em> later on. To do this, you write the name of the vector, then a <code>$</code> sign, and then the name of the element you want to access:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.party<span class="op">$</span>when
## [1] &quot;Friday&quot;</code></pre></div>
<p>You might have spotted that we included a vector inside the party list. This is not a problem, and we can still access individual elements of this vector too:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.party<span class="op">$</span>drinks[<span class="dv">1</span>]
## [1] &quot;Juice&quot;</code></pre></div>
<div id="section-4" class="section level4 unnumbered exercise">
<h4></h4>
<ol style="list-style-type: decimal">
<li>Create a vector containing 3 numbers then:</li>
</ol>
<ul>
<li>Access just the last number</li>
<li>Create a new list containing the first and last number</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Create a list containing, your address and your age in years. Then:</li>
</ol>
<ul>
<li>Multiply your age in years by your flat or house number (by accessing the relevant elements in the list)</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Run the following R code and explain what has happened:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span>
##  [1] 10.00000 14.14214 17.32051 20.00000 22.36068 24.49490 26.45751
##  [8] 28.28427 30.00000 31.62278</code></pre></div>
</div>
<div id="section-5" class="section level4 unnumbered exercise">
<h4></h4>
<p>Extended questions:</p>
<ul>
<li><p>What is the average of the 9 times table, up to and including 9 x 1000?</p></li>
<li><p>Use the <code>paste</code> and <code>c(...)</code> functions to create a vector which contains the sequence “1 elephant”, “2 elephants”, …, “1000 elephants”.</p></li>
</ul>

</div>
</div>
</div>



<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Or an array if it has more than 2 dimensions<a href="r-basics.html#fnref2">↩</a></p></li>
<li id="fn3"><p>i.e. edit the RMarkdown document<a href="r-basics.html#fnref3">↩</a></p></li>
<li id="fn4"><p>Mostly people who already know other programming languages like C. It’s not that surprising if you read the R code as you would English.<a href="r-basics.html#fnref4">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datasets-dataframes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["Just enough R.pdf", "Just enough R.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
